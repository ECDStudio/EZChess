!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.chess=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(3),r=function(e){return e&&e.__esModule?e:{default:e}}(s),a=function(){function e(){n(this,e),this.turn=0,this.players={player1:new r.default("white"),player2:new r.default("black")}}return o(e,[{key:"reset",value:function(){this.turn=0,this.players={player1:new r.default("white"),player2:new r.default("black")}}},{key:"switchTurn",value:function(){this.turn+=1,this.players.player1.isTurn=!this.players.player1.isTurn,this.players.player2.isTurn=!this.players.player2.isTurn}}]),e}();t.chess=new a;i(10)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(0),r=function(){function e(t,i,o){n(this,e),this.side=t,this.position={x:i,y:o},this.step=0}return o(e,[{key:"toPosition",value:function(e,t){if("number"==typeof e&&"number"==typeof t)if(e>=0&&e<8&&t>=0&&t<8){this.position.x=e,this.position.y=t,this.step+=1;for(var i in s.chess.players)if(s.chess.players[i].side!==this.side)for(var n in s.chess.players[i].pieces)s.chess.players[i].pieces[n].position.x===e&&s.chess.players[i].pieces[n].position.y===t&&(s.chess.players[i].pieces[n].position={x:-1,y:-1})}else-1===e&&-1===t&&(this.position.x=e,this.position.y=t);return[this.position.x,this.position.y]}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPosition=void 0;var n=i(0);t.checkPosition=function(e,t,i){for(var o in n.chess.players)for(var s in n.chess.players[o].pieces)if(n.chess.players[o].pieces[s].position.x===e&&n.chess.players[o].pieces[s].position.y===t)return n.chess.players[o].side===i?"friendly":"enemy"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(4),r=n(s),a=i(5),p=n(a),u=i(6),c=n(u),l=i(7),f=n(l),h=i(8),y=n(h),d=i(9),v=n(d),b=function e(t){o(this,e),this.side=t,this.isTurn="white"===t,this.pieces={king:new r.default(t,"white"===t?0:7,3),queen:new p.default(t,"white"===t?0:7,4),rook1:new c.default(t,"white"===t?0:7,0),rook2:new c.default(t,"white"===t?0:7,7),knight1:new f.default(t,"white"===t?0:7,1),knight2:new f.default(t,"white"===t?0:7,6),bishop1:new y.default(t,"white"===t?0:7,2),bishop2:new y.default(t,"white"===t?0:7,5),pawn1:new v.default(t,"white"===t?1:6,0),pawn2:new v.default(t,"white"===t?1:6,1),pawn3:new v.default(t,"white"===t?1:6,2),pawn4:new v.default(t,"white"===t?1:6,3),pawn5:new v.default(t,"white"===t?1:6,4),pawn6:new v.default(t,"white"===t?1:6,5),pawn7:new v.default(t,"white"===t?1:6,6),pawn8:new v.default(t,"white"===t?1:6,7)}};t.default=b},function(e,t,i){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=i(1),u=function(e){return e&&e.__esModule?e:{default:e}}(p),c=i(0),l=i(2),f=function(e){function t(e,i,n){o(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n));return r.class="king",r}return r(t,e),a(t,[{key:"availableMoves",value:function(){var e=this,t=function(t,i){return(0,l.checkPosition)(t,i,e.side)},i=[[this.position.x+1,this.position.y],[this.position.x-1,this.position.y],[this.position.x+1,this.position.y+1],[this.position.x+1,this.position.y-1],[this.position.x-1,this.position.y+1],[this.position.x-1,this.position.y-1],[this.position.x,this.position.y+1],[this.position.x,this.position.y-1]],o=[];for(var s in i)i[s][0]>=0&&i[s][0]<8&&i[s][1]>=0&&i[s][1]<8&&"friendly"!==t.apply(void 0,n(i[s]))&&o.push(i[s]);var r=function(){for(var t in c.chess.players)if(c.chess.players[t].side!==e.side){var i=[];for(var n in c.chess.players[t].pieces){if("king"!==n){var o=c.chess.players[t].pieces[n].availableMoves();if(0!==o.length){var s=!0,r=!1,a=void 0;try{for(var p,u=o[Symbol.iterator]();!(s=(p=u.next()).done);s=!0){var l=p.value;i.push(l)}}catch(e){r=!0,a=e}finally{try{!s&&u.return&&u.return()}finally{if(r)throw a}}}}if("king"===n){var f=c.chess.players[t].pieces[n].position;i.push([f.x+1,f.y]),i.push([f.x-1,f.y]),i.push([f.x+1,f.y+1]),i.push([f.x+1,f.y-1]),i.push([f.x-1,f.y+1]),i.push([f.x-1,f.y-1]),i.push([f.x,f.y+1]),i.push([f.x,f.y-1])}}return i}};for(var a in c.chess.players)if(c.chess.players[a].side===this.side){var p=!0;for(var u in r())console.log(r()[u]),r()[u][0]!==this.position.x||0!==r()[u][1]&&1!==r()[u][1]&&2!==r()[u][1]&&3!==r()[u][1]||(p=!1);for(var f in c.chess.players[a].pieces){var h=c.chess.players[a].pieces[f];h.position.x!==this.position.x||1!==h.position.y&&2!==h.position.y||(p=!1)}!0===p&&0===c.chess.players[a].pieces.rook1.step&&0===this.step&&o.push([this.position.x,1,"king-castle"])}for(var y in c.chess.players)if(c.chess.players[y].side===this.side){var d=!0;for(var v in r())console.log(r()[v]),r()[v][0]!==this.position.x||3!==r()[v][1]&&4!==r()[v][1]&&5!==r()[v][1]&&6!==r()[v][1]&&7!==r()[v][1]||(d=!1);for(var b in c.chess.players[y].pieces){var w=c.chess.players[y].pieces[b];w.position.x!==this.position.x||4!==w.position.y&&5!==w.position.y&&6!==w.position.y||(d=!1)}!0===d&&0===c.chess.players[y].pieces.rook2.step&&0===this.step&&o.push([this.position.x,5,"queen-castle"])}return o}},{key:"toPosition",value:function(e,t,i){if("number"==typeof e&&"number"==typeof t)if(e>=0&&e<8&&t>=0&&t<8){this.position.x=e,this.position.y=t,this.step+=1;for(var n in c.chess.players)if(c.chess.players[n].side!==this.side)for(var o in c.chess.players[n].pieces)c.chess.players[n].pieces[o].position.x===e&&c.chess.players[n].pieces[o].position.y===t&&(c.chess.players[n].pieces[o].position={x:-1,y:-1})}else-1===e&&-1===t&&(this.position.x=e,this.position.y=t);if("king-castle"===i)for(var s in c.chess.players)c.chess.players[s].side===this.side&&c.chess.players[s].pieces.rook1.toPosition(this.position.x,2);if("queen-castle"===i)for(var r in c.chess.players)c.chess.players[r].side===this.side&&c.chess.players[r].pieces.rook2.toPosition(this.position.x,4);return[this.position.x,this.position.y]}}]),t}(u.default);t.default=f},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(a),u=i(2),c=function(e){function t(e,i,s){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));return r.class="queen",r}return s(t,e),r(t,[{key:"availableMoves",value:function(){for(var e=this,t=function(t){return(0,u.checkPosition)(t,e.position.y,e.side)},i=function(t){return(0,u.checkPosition)(e.position.x,t,e.side)},n=function(t,i){return(0,u.checkPosition)(t,i,e.side)},o=[],s=!0,r=!0,a=!0,p=!0,c=!0,l=!0,f=!0,h=!0,y=this.position.x+1;y<8;y+=1)!0===s&&("friendly"!==t(y)&&"enemy"!==t(y)||(s=!1),"friendly"!==t(y)&&o.push([y,this.position.y]));for(var d=this.position.x-1;d>=0;d-=1)!0===r&&("friendly"!==t(d)&&"enemy"!==t(d)||(r=!1),"friendly"!==t(d)&&o.push([d,this.position.y]));for(var v=this.position.y+1;v<8;v+=1)!0===a&&("friendly"!==i(v)&&"enemy"!==i(v)||(a=!1),"friendly"!==i(v)&&o.push([this.position.x,v]));for(var b=this.position.y-1;b>=0;b-=1)!0===p&&("friendly"!==i(b)&&"enemy"!==i(b)||(p=!1),"friendly"!==i(b)&&o.push([this.position.x,b]));for(var w=this.position.x+1;w<8;w+=1){var x=this.position.y+w-this.position.x;!0===c&&x>=0&&x<8&&("friendly"!==n(w,x)&&"enemy"!==n(w,x)&&7!==x||(c=!1),"friendly"!==n(w,x)&&o.push([w,x]))}for(var _=this.position.x+1;_<8;_+=1){var m=this.position.y-_+this.position.x;!0===l&&m>=0&&m<8&&("friendly"!==n(_,m)&&"enemy"!==n(_,m)&&0!==m||(l=!1),"friendly"!==n(_,m)&&o.push([_,m]))}for(var P=this.position.x-1;P>=0;P-=1){var O=this.position.y+P-this.position.x;!0===f&&O>=0&&O<8&&("friendly"!==n(P,O)&&"enemy"!==n(P,O)&&7!==O||(f=!1),"friendly"!==n(P,O)&&o.push([P,O]))}for(var g=this.position.x-1;g>=0;g-=1){var k=this.position.y-g+this.position.x;!0===h&&k>=0&&k<8&&("friendly"!==n(g,k)&&"enemy"!==n(g,k)&&0!==k||(h=!1),"friendly"!==n(g,k)&&o.push([g,k]))}return o}}]),t}(p.default);t.default=c},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(a),u=i(2),c=function(e){function t(e,i,s){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));return r.class="rook",r}return s(t,e),r(t,[{key:"availableMoves",value:function(){for(var e=this,t=function(t){return(0,u.checkPosition)(t,e.position.y,e.side)},i=function(t){return(0,u.checkPosition)(e.position.x,t,e.side)},n=[],o=!0,s=!0,r=!0,a=!0,p=this.position.x+1;p<8;p+=1)!0===o&&("friendly"!==t(p)&&"enemy"!==t(p)||(o=!1),"friendly"!==t(p)&&n.push([p,this.position.y]));for(var c=this.position.x-1;c>=0;c-=1)!0===s&&("friendly"!==t(c)&&"enemy"!==t(c)||(s=!1),"friendly"!==t(c)&&n.push([c,this.position.y]));for(var l=this.position.y+1;l<8;l+=1)!0===r&&("friendly"!==i(l)&&"enemy"!==i(l)||(r=!1),"friendly"!==i(l)&&n.push([this.position.x,l]));for(var f=this.position.y-1;f>=0;f-=1)!0===a&&("friendly"!==i(f)&&"enemy"!==i(f)||(a=!1),"friendly"!==i(f)&&n.push([this.position.x,f]));return n}}]),t}(p.default);t.default=c},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(a),u=i(2),c=function(e){function t(e,i,s){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));return r.class="knight",r}return s(t,e),r(t,[{key:"availableMoves",value:function(){for(var e=[],t=[[this.position.x+1,this.position.y+2],[this.position.x+2,this.position.y+1],[this.position.x+1,this.position.y-2],[this.position.x+2,this.position.y-1],[this.position.x-1,this.position.y+2],[this.position.x-2,this.position.y+1],[this.position.x-1,this.position.y-2],[this.position.x-2,this.position.y-1]],i=0;i<t.length;i+=1)t[i][0]>=0&&t[i][0]<8&&t[i][1]>=0&&t[i][1]<8&&"friendly"!==(0,u.checkPosition)(t[i][0],t[i][1],this.side)&&e.push([t[i][0],t[i][1]]);return e}}]),t}(p.default);t.default=c},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(a),u=i(2),c=function(e){function t(e,i,s){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));return r.class="bishop",r}return s(t,e),r(t,[{key:"availableMoves",value:function(){for(var e=this,t=function(t,i){return(0,u.checkPosition)(t,i,e.side)},i=[],n=!0,o=!0,s=!0,r=!0,a=this.position.x+1;a<8;a+=1){var p=this.position.y+a-this.position.x;!0===n&&p>=0&&p<8&&("friendly"!==t(a,p)&&"enemy"!==t(a,p)&&7!==p||(n=!1),"friendly"!==t(a,p)&&i.push([a,p]))}for(var c=this.position.x+1;c<8;c+=1){var l=this.position.y-c+this.position.x;!0===o&&l>=0&&l<8&&("friendly"!==t(c,l)&&"enemy"!==t(c,l)&&0!==l||(o=!1),"friendly"!==t(c,l)&&i.push([c,l]))}for(var f=this.position.x-1;f>=0;f-=1){var h=this.position.y+f-this.position.x;!0===s&&h>=0&&h<8&&("friendly"!==t(f,h)&&"enemy"!==t(f,h)&&7!==h||(s=!1),"friendly"!==t(f,h)&&i.push([f,h]))}for(var y=this.position.x-1;y>=0;y-=1){var d=this.position.y-y+this.position.x;!0===r&&d>=0&&d<8&&("friendly"!==t(y,d)&&"enemy"!==t(y,d)&&0!==d||(r=!1),"friendly"!==t(y,d)&&i.push([y,d]))}return i}}]),t}(p.default);t.default=c},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(a),u=i(0),c=i(2),l=function(e){function t(e,i,s){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));return r.class="pawn",r.enPassant=!1,r.enPassTurn=0,r}return s(t,e),r(t,[{key:"availableMoves",value:function(){var e=this,t=function(t,i){return(0,c.checkPosition)(t,i,e.side)},i=function(t){return"white"===e.side?e.position.x+t:e.position.x-t},n=[];0===this.step&&"friendly"!==t(i(2),this.position.y)&&"enemy"!==t(i(2),this.position.y)&&n.push([i(2),this.position.y,!1]),"friendly"!==t(i(1),this.position.y)&&"enemy"!==t(i(1),this.position.y)&&n.push([i(1),this.position.y,!1]),"enemy"===t(i(1),this.position.y+1)&&n.push([i(1),this.position.y+1,!1]),"enemy"===t(i(1),this.position.y-1)&&n.push([i(1),this.position.y-1,!1]);for(var o in u.chess.players)for(var s in u.chess.players[o].pieces){var r=u.chess.players[o].pieces[s];!0===r.enPassant&&r.enPassTurn===u.chess.turn&&r.position.x===this.position.x&&(r.position.y===this.position.y+1&&n.push([i(1),this.position.y+1,!0]),r.position.y===this.position.y-1&&n.push([i(1),this.position.y-1,!0]))}return n}},{key:"toPosition",value:function(e,t,i){var n=this;if("number"==typeof e&&"number"==typeof t)if(e>=0&&e<8&&t>=0&&t<8){this.position.x=e,this.position.y=t,this.step+=1;for(var o in u.chess.players)if(u.chess.players[o].side!==this.side)for(var s in u.chess.players[o].pieces)u.chess.players[o].pieces[s].position.x===e&&u.chess.players[o].pieces[s].position.y===t&&(u.chess.players[o].pieces[s].position={x:-1,y:-1})}else-1===e&&-1===t&&(this.position.x=e,this.position.y=t);if(setTimeout(function(){if(1===n.step&&3===e&&"white"===n.side||1===n.step&&4===e&&"black"===n.side)for(var i in u.chess.players)if(u.chess.players[i].side!==n.side)for(var o in u.chess.players[i].pieces)if("pawn"===u.chess.players[i].pieces[o].class){var s=u.chess.players[i].pieces[o];s.position.x!==e||s.position.y!==t+1&&s.position.y!==t-1||(n.enPassant=!0,n.enPassTurn=u.chess.turn)}},1),!0===i)for(var r in u.chess.players)if(u.chess.players[r].side!==this.side)for(var a in u.chess.players[r].pieces){var p=u.chess.players[r].pieces[a];!0!==p.enPassant||p.enPassTurn!==u.chess.turn||p.position.y!==t||p.position.x!==e+1&&p.position.x!==e-1||(p.position={x:-1,y:-1})}return[this.position.x,this.position.y]}}]),t}(p.default);t.default=l},function(e,t,i){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=i(0),s=document.createElement("div"),r=document.createElement("div"),a=document.createElement("ul"),p=document.createElement("ul"),u=document.createElement("div");s.id="container",r.id="chessboard",document.getElementsByTagName("body")[0].append(s),s.append(r,u),r.append(a,p);var c=function(){for(var e in o.chess.players)!0===o.chess.players[e].isTurn&&(u.innerHTML="Current Turn: "+o.chess.players[e].side)};c();var l=function(e){var t=function(){var e=!0,t=!1,i=void 0;try{for(var n,o=document.getElementsByClassName("target-position")[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;!function(e){setTimeout(function(){e.parentElement.removeChild(e)})}(s)}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}};t();var i=!0,s=!1,a=void 0;try{for(var p,u=e.availableMoves()[Symbol.iterator]();!(i=(p=u.next()).done);i=!0){var l=p.value;!function(i){var s=document.createElement("a");r.append(s),s.classList.add("target-position"),s.style.left=12.5*i[0]+"%",s.style.bottom=12.5*i[1]+"%",s.addEventListener("click",function(){e._toPos.apply(e,n(i)),t();for(var s in o.chess.players){for(var r in o.chess.players[s].pieces)!function(e){var t=o.chess.players[s].pieces[e];t._watchCapture(),setTimeout(function(){t._toPos(t.position.x,t,i.y)},500)}(r)}o.chess.switchTurn(),c()})}(l)}}catch(e){s=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw a}}};for(var f in o.chess.players)!function(e){for(var t in o.chess.players[e].pieces)!function(t){var i=o.chess.players[e].pieces[t],s=document.createElement("li");i._toPos=function(e,t,n){i.toPosition(e,t,n),s.style.zIndex="20",s.style.left=12.5*i.position.x+"%",s.style.bottom=12.5*i.position.y+"%",setTimeout(function(){s.style.zIndex="1"},1e3)},i._toPos.apply(i,n(i.position)),i._watchCapture=function(){-1===i.position.x&&-1===i.position.y&&setTimeout(function(){s.style.display="none"},500)},s.classList.add("chess-piece",o.chess.players[e].side,i.class),"player1"===e?a.append(s):p.append(s),s.addEventListener("click",function(){!0===o.chess.players[e].isTurn&&l(i)})}(t)}(f)}]);